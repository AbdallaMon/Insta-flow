<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InstaFlow - Project Development Roadmap</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        color: #e4e4e4;
        min-height: 100vh;
        line-height: 1.6;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      /* ==================== HEADER ==================== */
      header {
        text-align: center;
        padding: 40px 0;
        border-bottom: 2px solid #0f3460;
        margin-bottom: 30px;
      }

      header h1 {
        font-size: 2.5rem;
        color: #00d9ff;
        margin-bottom: 10px;
      }

      header p {
        color: #888;
        font-size: 1.1rem;
        margin-bottom: 20px;
      }

      /* ==================== PROGRESS BAR ==================== */
      .progress-section {
        background: #1f2937;
        border-radius: 16px;
        padding: 25px;
        margin-bottom: 30px;
        border: 1px solid #374151;
      }

      .progress-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        flex-wrap: wrap;
        gap: 15px;
      }

      .progress-title {
        color: #00d9ff;
        font-size: 1.3rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .progress-stats {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }

      .stat-box {
        background: #111827;
        padding: 10px 20px;
        border-radius: 10px;
        text-align: center;
        min-width: 100px;
      }

      .stat-number {
        font-size: 1.8rem;
        font-weight: bold;
        color: #00d9ff;
      }

      .stat-label {
        font-size: 0.8rem;
        color: #9ca3af;
      }

      .stat-box.completed .stat-number {
        color: #10b981;
      }

      .stat-box.pending .stat-number {
        color: #f59e0b;
      }

      .progress-bar-container {
        background: #111827;
        border-radius: 10px;
        height: 25px;
        overflow: hidden;
        position: relative;
      }

      .progress-bar {
        background: linear-gradient(90deg, #10b981, #00d9ff);
        height: 100%;
        border-radius: 10px;
        transition: width 0.5s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .progress-text {
        position: absolute;
        width: 100%;
        text-align: center;
        font-weight: bold;
        font-size: 0.85rem;
        line-height: 25px;
        color: #fff;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      }

      /* ==================== CONTROLS ==================== */
      .controls {
        display: flex;
        gap: 15px;
        margin-bottom: 30px;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
      }

      .filter-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .filter-btn {
        background: #1f2937;
        color: #9ca3af;
        border: 1px solid #374151;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
      }

      .filter-btn:hover {
        background: #374151;
        color: #fff;
      }

      .filter-btn.active {
        background: #00d9ff;
        color: #000;
        border-color: #00d9ff;
      }

      .action-buttons {
        display: flex;
        gap: 10px;
      }

      .action-btn {
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.9rem;
        border: none;
        transition: all 0.3s ease;
      }

      .action-btn.reset {
        background: #ef4444;
        color: #fff;
      }

      .action-btn.reset:hover {
        background: #dc2626;
      }

      .action-btn.export {
        background: #8b5cf6;
        color: #fff;
      }

      .action-btn.export:hover {
        background: #7c3aed;
      }

      .action-btn.collapse-all {
        background: #374151;
        color: #fff;
      }

      .action-btn.collapse-all:hover {
        background: #4b5563;
      }

      /* ==================== FEATURE SECTION ==================== */
      .feature-section {
        background: #1f2937;
        border-radius: 16px;
        margin-bottom: 25px;
        border: 1px solid #374151;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      .feature-header {
        background: linear-gradient(90deg, #0f3460 0%, #1a1a2e 100%);
        padding: 20px 25px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background 0.3s ease;
      }

      .feature-header:hover {
        background: linear-gradient(90deg, #1a4a7a 0%, #252550 100%);
      }

      .feature-title {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .feature-icon {
        font-size: 1.8rem;
      }

      .feature-name {
        color: #00d9ff;
        font-size: 1.4rem;
        margin: 0;
      }

      .feature-name-ar {
        color: #9ca3af;
        font-size: 0.95rem;
        margin-top: 3px;
      }

      .feature-meta {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .feature-progress {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .feature-progress-bar {
        width: 150px;
        height: 8px;
        background: #111827;
        border-radius: 4px;
        overflow: hidden;
      }

      .feature-progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #10b981, #00d9ff);
        transition: width 0.3s ease;
      }

      .feature-progress-text {
        color: #9ca3af;
        font-size: 0.9rem;
        min-width: 45px;
      }

      .feature-toggle {
        color: #9ca3af;
        font-size: 1.5rem;
        transition: transform 0.3s ease;
      }

      .feature-section.collapsed .feature-toggle {
        transform: rotate(-90deg);
      }

      .feature-section.collapsed .feature-content {
        display: none;
      }

      .feature-content {
        padding: 25px;
      }

      .feature-description {
        background: #111827;
        padding: 15px 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        border-right: 4px solid #00d9ff;
      }

      .feature-description p {
        color: #9ca3af;
        font-size: 0.95rem;
      }

      /* ==================== SUB-FEATURE ==================== */
      .sub-feature {
        background: #111827;
        border-radius: 12px;
        margin-bottom: 20px;
        overflow: hidden;
        border: 1px solid #374151;
      }

      .sub-feature:last-child {
        margin-bottom: 0;
      }

      .sub-feature-header {
        background: #1a2332;
        padding: 15px 20px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .sub-feature-header:hover {
        background: #1f2a3c;
      }

      .sub-feature-title {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .sub-feature-icon {
        font-size: 1.2rem;
      }

      .sub-feature-name {
        color: #f59e0b;
        font-size: 1.1rem;
        font-weight: 600;
      }

      .sub-feature-name-ar {
        color: #6b7280;
        font-size: 0.85rem;
        margin-right: 10px;
      }

      .sub-feature-progress {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .sub-feature-progress-bar {
        width: 100px;
        height: 6px;
        background: #0f172a;
        border-radius: 3px;
        overflow: hidden;
      }

      .sub-feature-progress-fill {
        height: 100%;
        background: #f59e0b;
        transition: width 0.3s ease;
      }

      .sub-feature-toggle {
        color: #6b7280;
        font-size: 1.2rem;
        transition: transform 0.3s ease;
      }

      .sub-feature.collapsed .sub-feature-toggle {
        transform: rotate(-90deg);
      }

      .sub-feature.collapsed .sub-feature-content {
        display: none;
      }

      .sub-feature-content {
        padding: 20px;
      }

      /* ==================== TASK GROUPS ==================== */
      .task-groups {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 20px;
      }

      .task-group {
        background: #0f172a;
        border-radius: 10px;
        padding: 20px;
        border: 1px solid #1e293b;
      }

      .task-group-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid #1e293b;
      }

      .task-group-icon {
        font-size: 1.3rem;
      }

      .task-group-title {
        font-size: 1rem;
        font-weight: 600;
      }

      .task-group.frontend .task-group-title {
        color: #3b82f6;
      }

      .task-group.backend .task-group-title {
        color: #10b981;
      }

      .task-group.database .task-group-title {
        color: #8b5cf6;
      }

      .task-group.testing .task-group-title {
        color: #f59e0b;
      }

      /* ==================== TASKS ==================== */
      .task-list {
        list-style: none;
      }

      .task-item {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 12px;
        margin-bottom: 8px;
        background: #111827;
        border-radius: 8px;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .task-item:hover {
        background: #1a2332;
      }

      .task-item.completed {
        opacity: 0.7;
      }

      .task-item.completed .task-text {
        text-decoration: line-through;
        color: #6b7280;
      }

      .task-checkbox {
        width: 22px;
        height: 22px;
        border: 2px solid #4b5563;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        transition: all 0.3s ease;
        cursor: pointer;
        margin-top: 2px;
      }

      .task-checkbox:hover {
        border-color: #00d9ff;
      }

      .task-item.completed .task-checkbox {
        background: #10b981;
        border-color: #10b981;
      }

      .task-checkbox .checkmark {
        display: none;
        color: #fff;
        font-size: 14px;
      }

      .task-item.completed .task-checkbox .checkmark {
        display: block;
      }

      .task-content {
        flex: 1;
      }

      .task-text {
        color: #e4e4e4;
        font-size: 0.95rem;
        margin-bottom: 4px;
      }

      .task-details {
        color: #6b7280;
        font-size: 0.8rem;
        line-height: 1.4;
      }

      .task-tags {
        display: flex;
        gap: 6px;
        margin-top: 8px;
        flex-wrap: wrap;
      }

      .task-tag {
        font-size: 0.7rem;
        padding: 3px 8px;
        border-radius: 4px;
        font-weight: 600;
      }

      .task-tag.api {
        background: #3b82f6;
        color: #fff;
      }

      .task-tag.ui {
        background: #8b5cf6;
        color: #fff;
      }

      .task-tag.db {
        background: #10b981;
        color: #fff;
      }

      .task-tag.security {
        background: #ef4444;
        color: #fff;
      }

      .task-tag.validation {
        background: #f59e0b;
        color: #000;
      }

      .task-tag.required {
        background: #dc2626;
        color: #fff;
      }

      .task-tag.optional {
        background: #6b7280;
        color: #fff;
      }

      /* ==================== NOTES ==================== */
      .notes-section {
        background: #1a2332;
        border-radius: 10px;
        padding: 15px 20px;
        margin-top: 20px;
        border-right: 4px solid #f59e0b;
      }

      .notes-section h5 {
        color: #f59e0b;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .notes-section ul {
        margin-right: 20px;
        color: #9ca3af;
        font-size: 0.9rem;
      }

      .notes-section li {
        margin-bottom: 5px;
      }

      /* ==================== API DETAILS ==================== */
      .api-details {
        background: #0f172a;
        border-radius: 8px;
        padding: 15px;
        margin-top: 15px;
        font-family: "Courier New", monospace;
        font-size: 0.85rem;
      }

      .api-method {
        display: inline-block;
        padding: 3px 10px;
        border-radius: 4px;
        font-weight: bold;
        margin-left: 10px;
      }

      .api-method.get {
        background: #3b82f6;
        color: #fff;
      }

      .api-method.post {
        background: #10b981;
        color: #fff;
      }

      .api-method.put {
        background: #f59e0b;
        color: #000;
      }

      .api-method.delete {
        background: #ef4444;
        color: #fff;
      }

      .api-endpoint {
        color: #00d9ff;
      }

      /* ==================== RESPONSIVE ==================== */
      @media (max-width: 768px) {
        .container {
          padding: 10px;
        }

        header h1 {
          font-size: 1.8rem;
        }

        .progress-header {
          flex-direction: column;
          text-align: center;
        }

        .controls {
          flex-direction: column;
        }

        .filter-buttons {
          justify-content: center;
        }

        .task-groups {
          grid-template-columns: 1fr;
        }

        .feature-progress-bar {
          display: none;
        }

        .stat-box {
          min-width: 80px;
          padding: 8px 12px;
        }

        .stat-number {
          font-size: 1.4rem;
        }
      }

      /* ==================== ANIMATIONS ==================== */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .feature-section {
        animation: fadeIn 0.3s ease;
      }

      /* ==================== SCROLLBAR ==================== */
      ::-webkit-scrollbar {
        width: 10px;
      }

      ::-webkit-scrollbar-track {
        background: #1a1a2e;
      }

      ::-webkit-scrollbar-thumb {
        background: #374151;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #4b5563;
      }

      /* ==================== TOAST NOTIFICATION ==================== */
      .toast {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        background: #1f2937;
        color: #fff;
        padding: 15px 25px;
        border-radius: 10px;
        border: 1px solid #374151;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        z-index: 1000;
        transition: transform 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
      }

      .toast.success {
        border-color: #10b981;
      }

      .toast.warning {
        border-color: #f59e0b;
      }

      /* ==================== SEARCH ==================== */
      .search-box {
        position: relative;
        flex: 1;
        max-width: 300px;
      }

      .search-box input {
        width: 100%;
        padding: 10px 15px 10px 40px;
        border-radius: 8px;
        border: 1px solid #374151;
        background: #111827;
        color: #e4e4e4;
        font-size: 0.9rem;
      }

      .search-box input:focus {
        outline: none;
        border-color: #00d9ff;
      }

      .search-box .search-icon {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #6b7280;
      }

      /* ==================== HIDDEN CLASS ==================== */
      .hidden {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- HEADER -->
      <header>
        <h1>ğŸš€ InstaFlow Development Roadmap</h1>
        <p>Ø®Ø§Ø±Ø·Ø© Ø·Ø±ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ÙƒØ§Ù…Ù„Ø© - ÙƒÙ„ Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„ØªÙØ§ØµÙŠÙ„</p>
      </header>

      <!-- PROGRESS SECTION -->
      <div class="progress-section">
        <div class="progress-header">
          <div class="progress-title">
            <span>ğŸ“Š</span>
            <span>Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹</span>
          </div>
          <div class="progress-stats">
            <div class="stat-box completed">
              <div class="stat-number" id="completed-count">0</div>
              <div class="stat-label">Ù…ÙƒØªÙ…Ù„Ø©</div>
            </div>
            <div class="stat-box pending">
              <div class="stat-number" id="pending-count">0</div>
              <div class="stat-label">Ù…ØªØ¨Ù‚ÙŠØ©</div>
            </div>
            <div class="stat-box">
              <div class="stat-number" id="total-count">0</div>
              <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
            </div>
          </div>
        </div>
        <div class="progress-bar-container">
          <div class="progress-bar" id="total-progress" style="width: 0%"></div>
          <div class="progress-text" id="progress-percentage">0%</div>
        </div>
      </div>

      <!-- CONTROLS -->
      <div class="controls">
        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">Ø§Ù„ÙƒÙ„</button>
          <button class="filter-btn" data-filter="pending">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©</button>
          <button class="filter-btn" data-filter="completed">Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</button>
          <button class="filter-btn" data-filter="frontend">Frontend</button>
          <button class="filter-btn" data-filter="backend">Backend</button>
        </div>
        <div class="search-box">
          <input type="text" id="search-input" placeholder="Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…..." />
          <span class="search-icon">ğŸ”</span>
        </div>
        <div class="action-buttons">
          <button class="action-btn collapse-all" id="collapse-all">
            Ø·ÙŠ/ÙØªØ­ Ø§Ù„ÙƒÙ„
          </button>
          <button class="action-btn export" id="export-btn">ğŸ“¥ ØªØµØ¯ÙŠØ±</button>
          <button class="action-btn reset" id="reset-btn">
            ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
          </button>
        </div>
      </div>

      <!-- FEATURES CONTAINER -->
      <div id="features-container">
        <!-- Features will be injected here by JavaScript -->
      </div>
    </div>

    <!-- TOAST -->
    <div class="toast" id="toast">
      <span id="toast-icon">âœ…</span>
      <span id="toast-message">ØªÙ… Ø§Ù„Ø­ÙØ¸</span>
    </div>

    <script>
      // ============================================================================
      // PROJECT DATA - ÙƒÙ„ Ø§Ù„Ù€ Features ÙˆØ§Ù„Ù€ Tasks
      // ============================================================================
      const projectData = {
        features: [
          // ==================== FEATURE 1: AUTH & SECURITY ====================
          {
            id: "auth",
            icon: "ğŸ”",
            name: "Authentication & Security",
            nameAr: "Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ø£Ù…Ø§Ù†",
            description:
              "Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ØŒ Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŒ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø¨Ù€ JWT",
            subFeatures: [
              {
                id: "signup",
                icon: "ğŸ“",
                name: "Sign Up",
                nameAr: "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯",
                tasks: {
                  frontend: [
                    {
                      id: "signup-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (SignupPage.tsx)",
                      details:
                        "ØªØµÙ…ÙŠÙ… Ø§Ù„ØµÙØ­Ø© Ù…Ø¹ form ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: email, password, name",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "signup-fe-2",
                      text: "Ø¥Ø¶Ø§ÙØ© Form Validation",
                      details:
                        "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: email format, password min 8 chars, name 2-100 chars",
                      tags: ["validation", "required"],
                    },
                    {
                      id: "signup-fe-3",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Auth Service",
                      details:
                        "service/authService.ts - Ø¯Ø§Ù„Ø© signup() Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ API",
                      tags: ["api", "required"],
                    },
                    {
                      id: "signup-fe-4",
                      text: "Ø¥Ø¯Ø§Ø±Ø© Ø­Ø§Ù„Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Loading, Error, Success)",
                      details:
                        "Ø¹Ø±Ø¶ spinner Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ØŒ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£ØŒ Ùˆredirect Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­",
                      tags: ["ui"],
                    },
                    {
                      id: "signup-fe-5",
                      text: "ØªØ®Ø²ÙŠÙ† Tokens ÙÙŠ localStorage",
                      details:
                        "Ø­ÙØ¸ accessToken Ùˆ refreshToken Ø¨Ø¹Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø§Ø¬Ø­",
                      tags: ["security"],
                    },
                    {
                      id: "signup-fe-6",
                      text: "Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ",
                      details:
                        "ØªØ±Ø¬Ù…Ø© ÙƒÙ„ error codes: EMAIL_ALREADY_EXISTS, VALIDATION_ERROR, etc.",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "signup-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Signup Endpoint",
                      details:
                        "POST /api/auth/signup - Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ email, password, name",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/auth/signup",
                      },
                    },
                    {
                      id: "signup-be-2",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Signup Validator",
                      details:
                        "auth.validators.ts - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… zod Ø£Ùˆ joi",
                      tags: ["validation", "required"],
                    },
                    {
                      id: "signup-be-3",
                      text: "ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                      details: "Ø§Ø³ØªØ®Ø¯Ø§Ù… bcrypt Ù„ØªØ´ÙÙŠØ± password Ù‚Ø¨Ù„ Ø§Ù„Ø­ÙØ¸ ÙÙŠ DB",
                      tags: ["security", "required"],
                    },
                    {
                      id: "signup-be-4",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ User ÙÙŠ Database",
                      details:
                        "prisma.user.create() - Ù…Ø¹ type: OWNER Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ",
                      tags: ["db", "required"],
                    },
                    {
                      id: "signup-be-5",
                      text: "ØªÙˆÙ„ÙŠØ¯ JWT Tokens",
                      details:
                        "Ø¥Ù†Ø´Ø§Ø¡ accessToken (15 Ø¯Ù‚ÙŠÙ‚Ø©) Ùˆ refreshToken (7 Ø£ÙŠØ§Ù…)",
                      tags: ["security", "required"],
                    },
                    {
                      id: "signup-be-6",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Email",
                      details:
                        "Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ user Ø¨Ù†ÙØ³ Ø§Ù„Ù€ email ÙˆØ¥Ø±Ø¬Ø§Ø¹ EMAIL_ALREADY_EXISTS",
                      tags: ["validation", "required"],
                    },
                    {
                      id: "signup-be-7",
                      text: "Ø¥Ø¶Ø§ÙØ© Audit Log Ù„Ù„ØªØ³Ø¬ÙŠÙ„",
                      details: "ØªØ³Ø¬ÙŠÙ„ Ø­Ø¯Ø« USER_SIGNUP ÙÙŠ AuditLog",
                      tags: ["security", "optional"],
                    },
                  ],
                },
                notes: [
                  "Ø§Ù„Ù€ User ÙŠØªØ³Ø¬Ù„ ÙƒÙ€ OWNER Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ",
                  "Ø§Ù„Ù€ SUPER_ADMIN ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ø£Ùˆ Ù…Ù† Ø®Ù„Ø§Ù„ seed",
                  "Ø§Ù„Ù€ access token ØµÙ„Ø§Ø­ÙŠØªÙ‡ 15 Ø¯Ù‚ÙŠÙ‚Ø© ÙÙ‚Ø· Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø£Ù…Ù†ÙŠØ©",
                ],
              },
              {
                id: "login",
                icon: "ğŸ”‘",
                name: "Login",
                nameAr: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
                tasks: {
                  frontend: [
                    {
                      id: "login-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (LoginPage.tsx)",
                      details:
                        "form ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ email Ùˆ password Ù…Ø¹ Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "login-fe-2",
                      text: "Ø¥Ø¶Ø§ÙØ© Form Validation",
                      details: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† email format Ùˆ password Ù…Ø´ ÙØ§Ø¶ÙŠ",
                      tags: ["validation", "required"],
                    },
                    {
                      id: "login-fe-3",
                      text: "Integration Ù…Ø¹ Login API",
                      details: "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ POST /api/auth/login ÙˆØªØ®Ø²ÙŠÙ† Ø§Ù„Ù€ tokens",
                      tags: ["api", "required"],
                    },
                    {
                      id: "login-fe-4",
                      text: "Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø®Ø·Ø£",
                      details:
                        "INVALID_CREDENTIALS, USER_SUSPENDED, USER_INACTIVE",
                      tags: ["ui"],
                    },
                    {
                      id: "login-fe-5",
                      text: "Ø¥Ø¶Ø§ÙØ© Remember Me (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
                      details: "Ø®ÙŠØ§Ø± Ù„Ø­ÙØ¸ Ø§Ù„Ø¬Ù„Ø³Ø© Ù„ÙØªØ±Ø© Ø£Ø·ÙˆÙ„",
                      tags: ["ui", "optional"],
                    },
                    {
                      id: "login-fe-6",
                      text: "Redirect Ø¨Ø¹Ø¯ Login Ù†Ø§Ø¬Ø­",
                      details:
                        "ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ù€ Dashboard Ø£Ùˆ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø³Ø§Ø¨Ù‚Ø§Ù‹",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "login-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Login Endpoint",
                      details:
                        "POST /api/auth/login - Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ email Ùˆ password",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/auth/login",
                      },
                    },
                    {
                      id: "login-be-2",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ User",
                      details: "Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† user Ø¨Ø§Ù„Ù€ email ÙÙŠ database",
                      tags: ["db", "required"],
                    },
                    {
                      id: "login-be-3",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                      details:
                        "Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù€ password Ø§Ù„Ù…Ø¯Ø®Ù„ Ù…Ø¹ passwordHash Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… bcrypt.compare",
                      tags: ["security", "required"],
                    },
                    {
                      id: "login-be-4",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© User",
                      details: "Ø§Ù„ØªØ£ÙƒØ¯ Ø£Ù† status = ACTIVEØŒ ÙˆØ¥Ù„Ø§ Ø±ÙØ¶ Ø§Ù„Ø¯Ø®ÙˆÙ„",
                      tags: ["security", "required"],
                    },
                    {
                      id: "login-be-5",
                      text: "ØªÙˆÙ„ÙŠØ¯ JWT Tokens",
                      details: "Ø¥Ù†Ø´Ø§Ø¡ access Ùˆ refresh tokens Ø¬Ø¯ÙŠØ¯Ø©",
                      tags: ["security", "required"],
                    },
                    {
                      id: "login-be-6",
                      text: "ØªØ­Ø¯ÙŠØ« lastLoginAt",
                      details: "ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø¢Ø®Ø± ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ÙÙŠ User record",
                      tags: ["db"],
                    },
                    {
                      id: "login-be-7",
                      text: "Ø¥Ø¶Ø§ÙØ© Audit Log Ù„Ù„Ø¯Ø®ÙˆÙ„",
                      details:
                        "ØªØ³Ø¬ÙŠÙ„ Ø­Ø¯Ø« USER_LOGIN ÙÙŠ AuditLog Ù…Ø¹ IP Ùˆ userAgent",
                      tags: ["security", "optional"],
                    },
                  ],
                },
                notes: [
                  "Ù„Ø§ ØªÙƒØ´Ù Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù€ email Ù…ÙˆØ¬ÙˆØ¯ Ø£Ù… Ù„Ø§ (Ø±Ø³Ø§Ù„Ø© Ù…ÙˆØ­Ø¯Ø©)",
                  "Ø³Ø¬Ù„ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙØ§Ø´Ù„Ø© Ù„Ù„Ù€ security",
                ],
              },
              {
                id: "refresh-token",
                icon: "ğŸ”„",
                name: "Token Refresh",
                nameAr: "ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø©",
                tasks: {
                  frontend: [
                    {
                      id: "refresh-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Axios Interceptor Ù„Ù„Ù€ Token Refresh",
                      details:
                        "Ø§Ø¹ØªØ±Ø§Ø¶ responses Ø§Ù„Ù€ 401 ÙˆØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ù€ token ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹",
                      tags: ["api", "required"],
                    },
                    {
                      id: "refresh-fe-2",
                      text: "Queue Ù„Ù„Ù€ Requests Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯",
                      details:
                        "ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù€ requests Ø§Ù„ÙØ§Ø´Ù„Ø© ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯",
                      tags: ["api"],
                    },
                    {
                      id: "refresh-fe-3",
                      text: "Logout ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯",
                      details:
                        "Ø¥Ø°Ø§ ÙØ´Ù„ refreshØŒ Ù†ÙØ° logout ÙˆØ£Ø¹Ø¯ ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„Ù€ login",
                      tags: ["security", "required"],
                    },
                  ],
                  backend: [
                    {
                      id: "refresh-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Refresh Token Endpoint",
                      details: "POST /api/auth/refresh - Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ refreshToken",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/auth/refresh",
                      },
                    },
                    {
                      id: "refresh-be-2",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Refresh Token",
                      details: "Ø§Ù„ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ù€ token ØµØ§Ù„Ø­ ÙˆÙ„Ù… ØªÙ†ØªÙ‡Ù ØµÙ„Ø§Ø­ÙŠØªÙ‡",
                      tags: ["security", "required"],
                    },
                    {
                      id: "refresh-be-3",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† tokenVersion",
                      details:
                        "Ù…Ù‚Ø§Ø±Ù†Ø© tokenVersion ÙÙŠ Ø§Ù„Ù€ token Ù…Ø¹ Ø§Ù„Ù€ DB (Ù„Ø¥Ù„ØºØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù€ tokens)",
                      tags: ["security", "required"],
                    },
                    {
                      id: "refresh-be-4",
                      text: "ØªÙˆÙ„ÙŠØ¯ Tokens Ø¬Ø¯ÙŠØ¯Ø©",
                      details: "Ø¥Ù†Ø´Ø§Ø¡ access Ùˆ refresh tokens Ø¬Ø¯ÙŠØ¯Ø©",
                      tags: ["security", "required"],
                    },
                  ],
                },
                notes: [
                  "Ø§Ù„Ù€ tokenVersion ÙŠØ³Ù…Ø­ Ø¨Ø¥Ù„ØºØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù€ refresh tokens Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©",
                  "Ø§Ø³ØªØ®Ø¯Ù… Token Rotation Ù„Ø£Ù…Ø§Ù† Ø£ÙƒØ¨Ø± (ÙƒÙ„ refresh ÙŠÙˆÙ„Ø¯ token Ø¬Ø¯ÙŠØ¯)",
                ],
              },
              {
                id: "forgot-password",
                icon: "â“",
                name: "Forgot Password",
                nameAr: "Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                tasks: {
                  frontend: [
                    {
                      id: "forgot-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                      details: "form Ø¨Ø³ÙŠØ· ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ email ÙÙ‚Ø·",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "forgot-fe-2",
                      text: "Integration Ù…Ø¹ API",
                      details: "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ POST /api/auth/forgot-password",
                      tags: ["api", "required"],
                    },
                    {
                      id: "forgot-fe-3",
                      text: "Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­",
                      details:
                        "Ø±Ø³Ø§Ù„Ø© Ù…ÙˆØ­Ø¯Ø©: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…ÙˆØ¬ÙˆØ¯ØŒ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø·'",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "forgot-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Forgot Password Endpoint",
                      details: "POST /api/auth/forgot-password",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/auth/forgot-password",
                      },
                    },
                    {
                      id: "forgot-be-2",
                      text: "ØªÙˆÙ„ÙŠØ¯ Reset Token",
                      details: "JWT token Ø¨ØµÙ„Ø§Ø­ÙŠØ© Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·",
                      tags: ["security", "required"],
                    },
                    {
                      id: "forgot-be-3",
                      text: "Ø¥Ø±Ø³Ø§Ù„ Email (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ø­Ø§Ù„ÙŠØ§Ù‹)",
                      details: "Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯",
                      tags: ["optional"],
                    },
                  ],
                },
                notes: [
                  "âš ï¸ ÙÙŠ Ø§Ù„Ù€ productionØŒ Ø§Ù„Ù€ reset token Ù„Ø§ ÙŠÙØ±Ø¬Ø¹ ÙÙŠ Ø§Ù„Ù€ responseØŒ ÙŠÙØ±Ø³Ù„ Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯ ÙÙ‚Ø·",
                  "Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ù…ÙˆØ­Ø¯Ø© Ø­ØªÙ‰ Ù„Ùˆ Ø§Ù„Ù€ email ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ (security)",
                ],
              },
              {
                id: "reset-password",
                icon: "ğŸ”‘",
                name: "Reset Password",
                nameAr: "Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                tasks: {
                  frontend: [
                    {
                      id: "reset-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†",
                      details: "form ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ newPassword Ùˆ confirmPassword",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "reset-fe-2",
                      text: "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Token Ù…Ù† URL",
                      details: "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù€ token Ù…Ù† query params",
                      tags: ["required"],
                    },
                    {
                      id: "reset-fe-3",
                      text: "Integration Ù…Ø¹ API",
                      details: "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ POST /api/auth/reset-password",
                      tags: ["api", "required"],
                    },
                    {
                      id: "reset-fe-4",
                      text: "Redirect Ù„Ù„Ù€ Login Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­",
                      details:
                        "ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "reset-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Reset Password Endpoint",
                      details: "POST /api/auth/reset-password",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/auth/reset-password",
                      },
                    },
                    {
                      id: "reset-be-2",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Reset Token",
                      details: "Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù€ token ÙˆØ¹Ø¯Ù… Ø§Ù†ØªÙ‡Ø§Ø¦Ù‡",
                      tags: ["security", "required"],
                    },
                    {
                      id: "reset-be-3",
                      text: "ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                      details: "ØªØ´ÙÙŠØ± Ø§Ù„Ù€ password Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙˆØªØ­Ø¯ÙŠØ«Ù‡ ÙÙŠ DB",
                      tags: ["db", "security", "required"],
                    },
                    {
                      id: "reset-be-4",
                      text: "Ø¥Ù„ØºØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù€ Sessions",
                      details:
                        "Ø²ÙŠØ§Ø¯Ø© tokenVersion Ù„Ø¥Ù„ØºØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù€ refresh tokens",
                      tags: ["security"],
                    },
                  ],
                },
              },
              {
                id: "change-password",
                icon: "ğŸ”",
                name: "Change Password",
                nameAr: "ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                tasks: {
                  frontend: [
                    {
                      id: "change-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Modal/Page Ù„ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                      details:
                        "form: currentPassword, newPassword, confirmPassword",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "change-fe-2",
                      text: "Validation Ù„Ù„Ù€ Password",
                      details: "Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ newPassword Ùˆ confirmPassword",
                      tags: ["validation", "required"],
                    },
                    {
                      id: "change-fe-3",
                      text: "Integration Ù…Ø¹ API",
                      details:
                        "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ POST /api/auth/change-password Ù…Ø¹ Authorization header",
                      tags: ["api", "required"],
                    },
                  ],
                  backend: [
                    {
                      id: "change-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Change Password Endpoint",
                      details: "POST /api/auth/change-password (Ù…Ø­Ù…ÙŠ)",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/auth/change-password",
                      },
                    },
                    {
                      id: "change-be-2",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©",
                      details: "Ù…Ù‚Ø§Ø±Ù†Ø© currentPassword Ù…Ø¹ Ø§Ù„Ù€ hash ÙÙŠ DB",
                      tags: ["security", "required"],
                    },
                    {
                      id: "change-be-3",
                      text: "ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                      details: "ØªØ´ÙÙŠØ± ÙˆØ­ÙØ¸ Ø§Ù„Ù€ password Ø§Ù„Ø¬Ø¯ÙŠØ¯",
                      tags: ["db", "security", "required"],
                    },
                  ],
                },
              },
              {
                id: "me",
                icon: "ğŸ‘¤",
                name: "Get Current User",
                nameAr: "Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ",
                tasks: {
                  frontend: [
                    {
                      id: "me-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Auth Context",
                      details: "React Context Ù„ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ",
                      tags: ["required"],
                    },
                    {
                      id: "me-fe-2",
                      text: "Ø¬Ù„Ø¨ User Ø¹Ù†Ø¯ App Load",
                      details: "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ GET /api/auth/me Ø¹Ù†Ø¯ ÙˆØ¬ÙˆØ¯ token",
                      tags: ["api", "required"],
                    },
                    {
                      id: "me-fe-3",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ useAuth Hook",
                      details: "hook Ù„Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
                      tags: ["required"],
                    },
                  ],
                  backend: [
                    {
                      id: "me-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Get Me Endpoint",
                      details: "GET /api/auth/me (Ù…Ø­Ù…ÙŠ)",
                      tags: ["api", "required"],
                      apiDetails: { method: "GET", endpoint: "/api/auth/me" },
                    },
                    {
                      id: "me-be-2",
                      text: "Ø§Ø³ØªØ®Ø±Ø§Ø¬ User Ù…Ù† Token",
                      details: "ÙÙƒ Ø§Ù„Ù€ JWT ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… userId Ù„Ù„Ø¨Ø­Ø« ÙÙŠ DB",
                      tags: ["security", "required"],
                    },
                    {
                      id: "me-be-3",
                      text: "Ø¥Ø±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª User",
                      details:
                        "Ø¥Ø±Ø¬Ø§Ø¹ id, email, name, type, status, parentUserId",
                      tags: ["api", "required"],
                    },
                  ],
                },
              },
              {
                id: "logout",
                icon: "ğŸšª",
                name: "Logout",
                nameAr: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
                tasks: {
                  frontend: [
                    {
                      id: "logout-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Logout Function",
                      details: "Ù…Ø³Ø­ Ø§Ù„Ù€ tokens Ù…Ù† localStorage Ùˆ state",
                      tags: ["required"],
                    },
                    {
                      id: "logout-fe-2",
                      text: "Integration Ù…Ø¹ API",
                      details: "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ POST /api/auth/logout (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
                      tags: ["api"],
                    },
                    {
                      id: "logout-fe-3",
                      text: "Redirect Ù„Ù„Ù€ Login",
                      details: "ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
                      tags: ["ui", "required"],
                    },
                  ],
                  backend: [
                    {
                      id: "logout-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Logout Endpoint",
                      details: "POST /api/auth/logout (Ù…Ø­Ù…ÙŠ)",
                      tags: ["api"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/auth/logout",
                      },
                    },
                    {
                      id: "logout-be-2",
                      text: "Ø²ÙŠØ§Ø¯Ø© tokenVersion",
                      details: "Ø¥Ù„ØºØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù€ refresh tokens Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…",
                      tags: ["security"],
                    },
                    {
                      id: "logout-be-3",
                      text: "Ø¥Ø¶Ø§ÙØ© Audit Log",
                      details: "ØªØ³Ø¬ÙŠÙ„ Ø­Ø¯Ø« USER_LOGOUT",
                      tags: ["security", "optional"],
                    },
                  ],
                },
              },
              {
                id: "protected-routes",
                icon: "ğŸ›¡ï¸",
                name: "Protected Routes",
                nameAr: "Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª",
                tasks: {
                  frontend: [
                    {
                      id: "protected-fe-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ ProtectedRoute Component",
                      details: "component ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ user Ù‚Ø¨Ù„ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰",
                      tags: ["required"],
                    },
                    {
                      id: "protected-fe-2",
                      text: "Ø¥Ø¶Ø§ÙØ© Role-based Access",
                      details: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† user.type Ù„ØµÙØ­Ø§Øª Ù…Ø¹ÙŠÙ†Ø©",
                      tags: ["security"],
                    },
                    {
                      id: "protected-fe-3",
                      text: "Redirect Ù„Ù„Ù€ Unauthorized",
                      details: "ØµÙØ­Ø© 403 Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ø¯ÙˆÙ† ØµÙ„Ø§Ø­ÙŠØ©",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "protected-be-1",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Auth Middleware",
                      details: "middleware ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù€ JWT ÙÙŠ ÙƒÙ„ request Ù…Ø­Ù…ÙŠ",
                      tags: ["security", "required"],
                    },
                    {
                      id: "protected-be-2",
                      text: "Ø¥Ø¶Ø§ÙØ© Permission Middleware",
                      details: "middleware Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
                      tags: ["security"],
                    },
                  ],
                },
              },
            ],
          },

          // ==================== FEATURE 2: USER MANAGEMENT ====================
          {
            id: "users",
            icon: "ğŸ‘¥",
            name: "User Management",
            nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",
            description:
              "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: OWNER ÙŠÙ…ÙƒÙ†Ù‡ Ø¥Ø¶Ø§ÙØ© STAFFØŒ ÙˆØªØ­Ø¯ÙŠØ¯ ØµÙ„Ø§Ø­ÙŠØ§ØªÙ‡Ù… Ø¹Ù„Ù‰ ÙƒÙ„ ØµÙØ­Ø©",
            subFeatures: [
              {
                id: "staff-crud",
                icon: "ğŸ‘¨â€ğŸ’¼",
                name: "Staff CRUD",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†",
                tasks: {
                  frontend: [
                    {
                      id: "staff-fe-1",
                      text: "ØµÙØ­Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†",
                      details: "Ø¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ Ø¨ÙƒÙ„ Ø§Ù„Ù€ staff Ù…Ø¹ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø©",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "staff-fe-2",
                      text: "Modal Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù Ø¬Ø¯ÙŠØ¯",
                      details:
                        "form: email, password, name Ù…Ø¹ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "staff-fe-3",
                      text: "Modal ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆØ¸Ù",
                      details: "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª",
                      tags: ["ui"],
                    },
                    {
                      id: "staff-fe-4",
                      text: "Ø­Ø°Ù/Ø¥ÙŠÙ‚Ø§Ù Ù…ÙˆØ¸Ù",
                      details:
                        "confirmation dialog Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø°Ù Ø£Ùˆ ØªØºÙŠÙŠØ± Ø§Ù„Ù€ status",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "staff-be-1",
                      text: "GET /api/users - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†",
                      details: "Ø¬Ù„Ø¨ staff Ù„Ù„Ù€ OWNER Ø§Ù„Ø­Ø§Ù„ÙŠ (parentUserId)",
                      tags: ["api", "required"],
                      apiDetails: { method: "GET", endpoint: "/api/users" },
                    },
                    {
                      id: "staff-be-2",
                      text: "POST /api/users - Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù",
                      details:
                        "Ø¥Ù†Ø´Ø§Ø¡ user Ø¨Ù€ type: STAFF Ùˆ parentUserId = current user",
                      tags: ["api", "required"],
                      apiDetails: { method: "POST", endpoint: "/api/users" },
                    },
                    {
                      id: "staff-be-3",
                      text: "PUT /api/users/:id - ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆØ¸Ù",
                      details: "ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù",
                      tags: ["api"],
                      apiDetails: { method: "PUT", endpoint: "/api/users/:id" },
                    },
                    {
                      id: "staff-be-4",
                      text: "DELETE /api/users/:id - Ø­Ø°Ù Ù…ÙˆØ¸Ù",
                      details: "Ø­Ø°Ù Ø£Ùˆ soft delete",
                      tags: ["api"],
                      apiDetails: {
                        method: "DELETE",
                        endpoint: "/api/users/:id",
                      },
                    },
                  ],
                },
                notes: [
                  "Ø§Ù„Ù€ OWNER ÙÙ‚Ø· ÙŠÙ…ÙƒÙ†Ù‡ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ STAFF",
                  "Ø§Ù„Ù€ STAFF ÙŠØ±ØªØ¨Ø· Ø¨Ù€ parentUserId = OWNER",
                  "Ø¹Ù†Ø¯ Ø­Ø°Ù OWNERØŒ Ø§Ù„Ù€ STAFF ÙŠØµØ¨Ø­ parentUserId = null",
                ],
              },
              {
                id: "permissions",
                icon: "ğŸ”’",
                name: "Permissions System",
                nameAr: "Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª",
                tasks: {
                  frontend: [
                    {
                      id: "perm-fe-1",
                      text: "Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙÙŠ Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸Ù",
                      details:
                        "checkboxes Ù„ÙƒÙ„ page: canRead, canCreate, canUpdate, canDelete",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "perm-fe-2",
                      text: "Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª",
                      details: "component ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù‚Ø¨Ù„ Ø¹Ø±Ø¶ Ø£ÙŠ element",
                      tags: ["security", "required"],
                    },
                    {
                      id: "perm-fe-3",
                      text: "Permission Hook",
                      details: "usePermission(page, action) hook",
                      tags: ["required"],
                    },
                  ],
                  backend: [
                    {
                      id: "perm-be-1",
                      text: "Ø­ÙØ¸ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø¹ Ø§Ù„Ù€ User",
                      details: "UserPermission records Ù„ÙƒÙ„ page",
                      tags: ["db", "required"],
                    },
                    {
                      id: "perm-be-2",
                      text: "Permission Middleware",
                      details: "middleware Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù‚Ø¨Ù„ ÙƒÙ„ action",
                      tags: ["security", "required"],
                    },
                    {
                      id: "perm-be-3",
                      text: "Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙÙŠ GET /api/auth/me",
                      details: "Ø¥Ø¶Ø§ÙØ© permissions Ù„Ù„Ù€ response",
                      tags: ["api"],
                    },
                  ],
                },
                notes: [
                  "Ø§Ù„Ù€ OWNER Ù„Ù‡ ÙƒÙ„ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹",
                  "Ø§Ù„Ù€ STAFF ÙŠØ­ØªØ§Ø¬ ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯Ø¯Ø© Ù„ÙƒÙ„ page",
                  "Pages: INTEGRATION, RECEIVERS, PAYMENT_LINKS, REVIEW, PAYMENTS, CUSTOMERS, USERS, SETTINGS, LOGS, DEVICES",
                ],
              },
            ],
          },

          // ==================== FEATURE 3: PLANS & SUBSCRIPTIONS ====================
          {
            id: "plans",
            icon: "ğŸ’",
            name: "Plans & Subscriptions",
            nameAr: "Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª",
            description:
              "Ø¥Ø¯Ø§Ø±Ø© Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: ÙƒÙ„ Ø¨Ø§Ù‚Ø© Ù„Ù‡Ø§ Ø­Ø¯ÙˆØ¯ Ù…Ø¹ÙŠÙ†Ø© (Ø£Ø¬Ù‡Ø²Ø©ØŒ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ø§Ù„Ø®)",
            subFeatures: [
              {
                id: "plans-management",
                icon: "ğŸ“‹",
                name: "Plans Management",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø§Ù‚Ø§Øª",
                tasks: {
                  frontend: [
                    {
                      id: "plans-fe-1",
                      text: "ØµÙØ­Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª",
                      details: "Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù…Ø¹ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ù…Ù…ÙŠØ²Ø§Øª",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "plans-fe-2",
                      text: "Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¨Ø§Ù‚Ø§Øª",
                      details: "Ø¬Ø¯ÙˆÙ„ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¨Ø§Ù‚Ø§Øª",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "plans-be-1",
                      text: "GET /api/plans - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨Ø§Ù‚Ø§Øª",
                      details: "Ø¬Ù„Ø¨ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ù…ÙØ¹Ù„Ø© Ù…Ø¹ Ø§Ù„Ù€ limits",
                      tags: ["api", "required"],
                      apiDetails: { method: "GET", endpoint: "/api/plans" },
                    },
                    {
                      id: "plans-be-2",
                      text: "Seed Ù„Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©",
                      details: "Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø§Ù‚Ø§Øª: Basic, Pro, Enterprise",
                      tags: ["db", "required"],
                    },
                  ],
                },
              },
              {
                id: "subscription-management",
                icon: "ğŸ“…",
                name: "Subscription Management",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª",
                tasks: {
                  frontend: [
                    {
                      id: "sub-fe-1",
                      text: "ØµÙØ­Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ",
                      details:
                        "Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: Ø§Ù„Ø¨Ø§Ù‚Ø©ØŒ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ØŒ Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "sub-fe-2",
                      text: "ØªØ±Ù‚ÙŠØ©/ØªØ®ÙÙŠØ¶ Ø§Ù„Ø¨Ø§Ù‚Ø©",
                      details: "Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ§Ù„Ø¯ÙØ¹",
                      tags: ["ui"],
                    },
                    {
                      id: "sub-fe-3",
                      text: "Ø´Ø±Ø§Ø¡ Ø¥Ø¶Ø§ÙØ§Øª",
                      details: "Ø¥Ø¶Ø§ÙØ© Ø£Ø¬Ù‡Ø²Ø©ØŒ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ø§Ù„Ø®",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "sub-be-1",
                      text: "GET /api/subscriptions/current",
                      details: "Ø¬Ù„Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "GET",
                        endpoint: "/api/subscriptions/current",
                      },
                    },
                    {
                      id: "sub-be-2",
                      text: "POST /api/subscriptions",
                      details: "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø´ØªØ±Ø§Ùƒ Ø¬Ø¯ÙŠØ¯",
                      tags: ["api"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/subscriptions",
                      },
                    },
                    {
                      id: "sub-be-3",
                      text: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¯ÙˆØ¯",
                      details: "middleware Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¨Ø§Ù‚Ø© Ù‚Ø¨Ù„ Ø£ÙŠ Ø¹Ù…Ù„ÙŠØ©",
                      tags: ["security", "required"],
                    },
                  ],
                },
                notes: [
                  "ÙƒÙ„ OWNER Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† Ø¹Ù†Ø¯Ù‡ subscription",
                  "Ø§Ù„Ø­Ø¯ÙˆØ¯: maxPaymentsPerMonth, maxDevices, maxReceivers, maxStaffUsers, maxApiKeys, maxWebhooks",
                  "-1 = unlimited",
                ],
              },
            ],
          },

          // ==================== FEATURE 4: ACCOUNT RECEIVERS ====================
          {
            id: "receivers",
            icon: "ğŸ¦",
            name: "Account Receivers",
            nameAr: "Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„",
            description:
              "Ø¥Ø¯Ø§Ø±Ø© Ø­Ø³Ø§Ø¨Ø§Øª InstaPay Ø§Ù„ØªÙŠ ÙŠØ³ØªÙ‚Ø¨Ù„ Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ù„ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª",
            subFeatures: [
              {
                id: "receivers-crud",
                icon: "ğŸ“±",
                name: "Receivers CRUD",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„",
                tasks: {
                  frontend: [
                    {
                      id: "recv-fe-1",
                      text: "ØµÙØ­Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª",
                      details: "Ø¹Ø±Ø¶ ÙƒÙ„ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ù…Ø¹ IPA Ùˆ Ø§Ù„Ø§Ø³Ù…",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "recv-fe-2",
                      text: "Modal Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨",
                      details: "form: receiverIpa, displayName",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "recv-fe-3",
                      text: "ØªØ¹ÙŠÙŠÙ† Ø­Ø³Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠ",
                      details: "Ø²Ø± Ù„Ø¬Ø¹Ù„ Ø­Ø³Ø§Ø¨ Ù‡Ùˆ Ø§Ù„Ù€ default",
                      tags: ["ui"],
                    },
                    {
                      id: "recv-fe-4",
                      text: "ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø­Ø³Ø§Ø¨",
                      details: "toggle Ù„Ù„Ù€ isActive",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "recv-be-1",
                      text: "GET /api/receivers",
                      details: "Ø¬Ù„Ø¨ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ",
                      tags: ["api", "required"],
                      apiDetails: { method: "GET", endpoint: "/api/receivers" },
                    },
                    {
                      id: "recv-be-2",
                      text: "POST /api/receivers",
                      details: "Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ (Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¯)",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/receivers",
                      },
                    },
                    {
                      id: "recv-be-3",
                      text: "PUT /api/receivers/:id",
                      details: "ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø§Ø¨",
                      tags: ["api"],
                      apiDetails: {
                        method: "PUT",
                        endpoint: "/api/receivers/:id",
                      },
                    },
                    {
                      id: "recv-be-4",
                      text: "DELETE /api/receivers/:id",
                      details: "Ø­Ø°Ù Ø­Ø³Ø§Ø¨ (Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…Ø±ØªØ¨Ø· Ø¨Ù€ payments)",
                      tags: ["api"],
                      apiDetails: {
                        method: "DELETE",
                        endpoint: "/api/receivers/:id",
                      },
                    },
                  ],
                },
                notes: [
                  "Ø§Ù„Ù€ receiverIpa ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† unique Ù„ÙƒÙ„ user",
                  "Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ø­Ø³Ø§Ø¨ Ù…Ø±ØªØ¨Ø· Ø¨Ù€ PaymentIntents",
                  "Ø­Ø³Ø§Ø¨ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† isDefault = true",
                ],
              },
            ],
          },

          // ==================== FEATURE 5: DEVICES ====================
          {
            id: "devices",
            icon: "ğŸ“±",
            name: "Devices Management",
            nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©",
            description: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø³Ø¬Ù„Ø© Ø§Ù„ØªÙŠ ØªØ±Ø³Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª InstaPay",
            subFeatures: [
              {
                id: "devices-crud",
                icon: "ğŸ“²",
                name: "Devices CRUD",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©",
                tasks: {
                  frontend: [
                    {
                      id: "dev-fe-1",
                      text: "ØµÙØ­Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©",
                      details:
                        "Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø³Ø¬Ù„Ø© Ù…Ø¹ deviceName, deviceModel, lastSeenAt",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "dev-fe-2",
                      text: "ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù‡Ø§Ø²",
                      details: "toggle Ù„Ù„Ù€ isActive",
                      tags: ["ui"],
                    },
                    {
                      id: "dev-fe-3",
                      text: "Ø­Ø°Ù Ø¬Ù‡Ø§Ø²",
                      details: "Ø­Ø°Ù Ø¬Ù‡Ø§Ø² Ù…Ø¹ confirmation",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "dev-be-1",
                      text: "GET /api/devices",
                      details: "Ø¬Ù„Ø¨ Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
                      tags: ["api", "required"],
                      apiDetails: { method: "GET", endpoint: "/api/devices" },
                    },
                    {
                      id: "dev-be-2",
                      text: "POST /api/devices/register",
                      details: "ØªØ³Ø¬ÙŠÙ„ Ø¬Ù‡Ø§Ø² Ø¬Ø¯ÙŠØ¯ (Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚)",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/devices/register",
                      },
                    },
                    {
                      id: "dev-be-3",
                      text: "DELETE /api/devices/:id",
                      details: "Ø­Ø°Ù Ø¬Ù‡Ø§Ø²",
                      tags: ["api"],
                      apiDetails: {
                        method: "DELETE",
                        endpoint: "/api/devices/:id",
                      },
                    },
                  ],
                },
              },
            ],
          },

          // ==================== FEATURE 6: PAYMENT INTENTS ====================
          {
            id: "payments",
            icon: "ğŸ’³",
            name: "Payment Intents",
            nameAr: "Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹",
            description: "Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ØŒ ÙˆØ§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ù…Ø¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
            subFeatures: [
              {
                id: "intents-crud",
                icon: "ğŸ“",
                name: "Payment Intents CRUD",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹",
                tasks: {
                  frontend: [
                    {
                      id: "pi-fe-1",
                      text: "ØµÙØ­Ø© Ù‚Ø§Ø¦Ù…Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹",
                      details: "Ø¬Ø¯ÙˆÙ„ Ø¨ÙƒÙ„ Ø§Ù„Ù€ intents Ù…Ø¹ Ø§Ù„ÙÙ„ØªØ±Ø© ÙˆØ§Ù„Ø¨Ø­Ø«",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "pi-fe-2",
                      text: "Modal Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¯ÙØ¹",
                      details:
                        "form: amount, reference, description, expiresAt, receiverId",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "pi-fe-3",
                      text: "ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ø§Ù„Ø¯ÙØ¹",
                      details: "ØµÙØ­Ø©/modal ØªØ¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ§Ù„Ù€ timeline",
                      tags: ["ui"],
                    },
                    {
                      id: "pi-fe-4",
                      text: "Payment Link",
                      details: "Ø±Ø§Ø¨Ø· Ù„Ù„Ø¹Ù…ÙŠÙ„ Ù„Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙØ¹",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "pi-fe-5",
                      text: "Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨ Ø¯ÙØ¹",
                      details: "Ø²Ø± Ù„Ø¥Ù„ØºØ§Ø¡ intent Ù…Ø¹ Ø³Ø¨Ø¨",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "pi-be-1",
                      text: "GET /api/payment-intents",
                      details: "Ø¬Ù„Ø¨ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ù…Ø¹ pagination Ùˆ filtering",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "GET",
                        endpoint: "/api/payment-intents",
                      },
                    },
                    {
                      id: "pi-be-2",
                      text: "POST /api/payment-intents",
                      details: "Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¯ÙØ¹ Ø¬Ø¯ÙŠØ¯",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/payment-intents",
                      },
                    },
                    {
                      id: "pi-be-3",
                      text: "GET /api/payment-intents/:id",
                      details: "Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ø¯ÙØ¹",
                      tags: ["api"],
                      apiDetails: {
                        method: "GET",
                        endpoint: "/api/payment-intents/:id",
                      },
                    },
                    {
                      id: "pi-be-4",
                      text: "POST /api/payment-intents/:id/cancel",
                      details: "Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨ Ø¯ÙØ¹",
                      tags: ["api"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/payment-intents/:id/cancel",
                      },
                    },
                    {
                      id: "pi-be-5",
                      text: "GET /api/p/:publicId (Public)",
                      details: "ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "GET",
                        endpoint: "/api/p/:publicId",
                      },
                    },
                  ],
                },
                notes: [
                  "publicId ÙŠØ®ØªÙ„Ù Ø¹Ù† id Ù„Ù„Ø£Ù…Ø§Ù†",
                  "Ø§Ù„Ù€ status: PENDING, PAID, REVIEW_REQUIRED, CANCELLED, EXPIRED, REVOKED",
                  "Ø§Ù„Ù€ expiresAt ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„",
                ],
              },
              {
                id: "matching",
                icon: "ğŸ”—",
                name: "Auto Matching",
                nameAr: "Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©",
                tasks: {
                  frontend: [
                    {
                      id: "match-fe-1",
                      text: "ØµÙØ­Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© (Review)",
                      details: "Ø¹Ø±Ø¶ Ø§Ù„Ù€ intents Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ Ù…Ø±Ø§Ø¬Ø¹Ø© ÙŠØ¯ÙˆÙŠØ©",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "match-fe-2",
                      text: "Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ©",
                      details: "Ø§Ø®ØªÙŠØ§Ø± notification Ù„Ù…Ø·Ø§Ø¨Ù‚ØªÙ‡Ø§ Ù…Ø¹ intent",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "match-be-1",
                      text: "Matching Algorithm",
                      details: "Ù…Ø·Ø§Ø¨Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ amount, receiverIpa",
                      tags: ["required"],
                    },
                    {
                      id: "match-be-2",
                      text: "POST /api/payment-intents/:id/confirm",
                      details: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ ÙŠØ¯ÙˆÙŠØ§Ù‹",
                      tags: ["api"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/payment-intents/:id/confirm",
                      },
                    },
                    {
                      id: "match-be-3",
                      text: "Confidence Score",
                      details: "Ø­Ø³Ø§Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„Ø«Ù‚Ø© ÙÙŠ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©",
                      tags: ["optional"],
                    },
                  ],
                },
              },
            ],
          },

          // ==================== FEATURE 7: NOTIFICATIONS ====================
          {
            id: "notifications",
            icon: "ğŸ””",
            name: "Notifications",
            nameAr: "Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
            description: "Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø´Ø¹Ø§Ø±Ø§Øª InstaPay Ù…Ù† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©",
            subFeatures: [
              {
                id: "notifications-receive",
                icon: "ğŸ“¥",
                name: "Receive Notifications",
                nameAr: "Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
                tasks: {
                  frontend: [
                    {
                      id: "notif-fe-1",
                      text: "ØµÙØ­Ø© Ø³Ø¬Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
                      details: "Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„Ø© Ù…Ø¹ Ø§Ù„ØªÙØ§ØµÙŠÙ„",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "notif-be-1",
                      text: "POST /api/notifications",
                      details: "Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²",
                      tags: ["api", "required"],
                      apiDetails: {
                        method: "POST",
                        endpoint: "/api/notifications",
                      },
                    },
                    {
                      id: "notif-be-2",
                      text: "Parser Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
                      details:
                        "Ø§Ø³ØªØ®Ø±Ø§Ø¬ amount, senderIpa, senderName Ù…Ù† rawText",
                      tags: ["required"],
                    },
                    {
                      id: "notif-be-3",
                      text: "Deduplication",
                      details: "Ù…Ù†Ø¹ ØªÙƒØ±Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… dedupeKey",
                      tags: ["required"],
                    },
                    {
                      id: "notif-be-4",
                      text: "ØªØ´ØºÙŠÙ„ Matching Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„",
                      details: "Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ù…Ø¹ intent ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹",
                      tags: ["required"],
                    },
                  ],
                },
              },
            ],
          },

          // ==================== FEATURE 8: CUSTOMERS ====================
          {
            id: "customers",
            icon: "ğŸ‘¤",
            name: "Customers",
            nameAr: "Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
            description: "Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø°ÙŠÙ† ÙŠØ¯ÙØ¹ÙˆÙ†",
            subFeatures: [
              {
                id: "customers-crud",
                icon: "ğŸ“‡",
                name: "Customers CRUD",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
                tasks: {
                  frontend: [
                    {
                      id: "cust-fe-1",
                      text: "ØµÙØ­Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
                      details: "Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø¹ Ø§Ù„Ø¨Ø­Ø«",
                      tags: ["ui"],
                    },
                    {
                      id: "cust-fe-2",
                      text: "ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„",
                      details: "Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØªØ§Ø±ÙŠØ® Ù…Ø¯ÙÙˆØ¹Ø§ØªÙ‡",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "cust-be-1",
                      text: "GET /api/customers",
                      details: "Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
                      tags: ["api"],
                      apiDetails: { method: "GET", endpoint: "/api/customers" },
                    },
                    {
                      id: "cust-be-2",
                      text: "Auto-create Customer",
                      details: "Ø¥Ù†Ø´Ø§Ø¡ customer ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø£ÙˆÙ„ Ø¯ÙØ¹Ø© Ù…Ù† IPA",
                      tags: ["optional"],
                    },
                  ],
                },
              },
            ],
          },

          // ==================== FEATURE 9: API KEYS ====================
          {
            id: "api-keys",
            icon: "ğŸ”‘",
            name: "API Keys",
            nameAr: "Ù…ÙØ§ØªÙŠØ­ API",
            description: "Ø¥Ø¯Ø§Ø±Ø© Ù…ÙØ§ØªÙŠØ­ API Ù„Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©",
            subFeatures: [
              {
                id: "apikeys-crud",
                icon: "ğŸ—ï¸",
                name: "API Keys CRUD",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­",
                tasks: {
                  frontend: [
                    {
                      id: "apikey-fe-1",
                      text: "ØµÙØ­Ø© Ù…ÙØ§ØªÙŠØ­ API",
                      details: "Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ù…Ø¹ keyPrefix ÙÙ‚Ø·",
                      tags: ["ui"],
                    },
                    {
                      id: "apikey-fe-2",
                      text: "Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­ Ø¬Ø¯ÙŠØ¯",
                      details: "form: name, scopes, expiresAt",
                      tags: ["ui"],
                    },
                    {
                      id: "apikey-fe-3",
                      text: "Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙØªØ§Ø­ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©",
                      details: "Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙÙ‚Ø·",
                      tags: ["ui", "security"],
                    },
                    {
                      id: "apikey-fe-4",
                      text: "Ø¥Ù„ØºØ§Ø¡ Ù…ÙØªØ§Ø­",
                      details: "revoke Ù…Ø¹ confirmation",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "apikey-be-1",
                      text: "GET /api/api-keys",
                      details: "Ø¬Ù„Ø¨ Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
                      tags: ["api"],
                      apiDetails: { method: "GET", endpoint: "/api/api-keys" },
                    },
                    {
                      id: "apikey-be-2",
                      text: "POST /api/api-keys",
                      details: "Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­ Ø¬Ø¯ÙŠØ¯ (ÙŠÙØ±Ø¬Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)",
                      tags: ["api"],
                      apiDetails: { method: "POST", endpoint: "/api/api-keys" },
                    },
                    {
                      id: "apikey-be-3",
                      text: "DELETE /api/api-keys/:id",
                      details: "Ø¥Ù„ØºØ§Ø¡ Ù…ÙØªØ§Ø­",
                      tags: ["api"],
                      apiDetails: {
                        method: "DELETE",
                        endpoint: "/api/api-keys/:id",
                      },
                    },
                    {
                      id: "apikey-be-4",
                      text: "API Key Authentication Middleware",
                      details: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù€ API key ÙÙŠ Ø§Ù„Ù€ header",
                      tags: ["security", "required"],
                    },
                  ],
                },
                notes: [
                  "Ø§Ù„Ù…ÙØªØ§Ø­ ÙŠÙØ¹Ø±Ø¶ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡",
                  "Ù†Ø®Ø²Ù† ÙÙ‚Ø· Ø§Ù„Ù€ hash ÙÙŠ DB",
                  "Ø§Ù„Ù€ scopes ØªØ­Ø¯Ø¯ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª: intents:read, intents:write, etc.",
                ],
              },
            ],
          },

          // ==================== FEATURE 10: WEBHOOKS ====================
          {
            id: "webhooks",
            icon: "ğŸª",
            name: "Webhooks",
            nameAr: "Webhooks",
            description: "Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ« Ø£Ø­Ø¯Ø§Ø« Ù…Ø¹ÙŠÙ†Ø©",
            subFeatures: [
              {
                id: "webhooks-crud",
                icon: "ğŸ”—",
                name: "Webhook Endpoints",
                nameAr: "Ø¥Ø¯Ø§Ø±Ø© Webhooks",
                tasks: {
                  frontend: [
                    {
                      id: "wh-fe-1",
                      text: "ØµÙØ­Ø© Webhooks",
                      details: "Ø¹Ø±Ø¶ Ø§Ù„Ù€ endpoints Ø§Ù„Ù…Ø³Ø¬Ù„Ø©",
                      tags: ["ui"],
                    },
                    {
                      id: "wh-fe-2",
                      text: "Ø¥Ø¶Ø§ÙØ© Webhook",
                      details: "form: url, events, secret",
                      tags: ["ui"],
                    },
                    {
                      id: "wh-fe-3",
                      text: "Ø³Ø¬Ù„ Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª",
                      details: "Ø¹Ø±Ø¶ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„ÙƒÙ„ webhook",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "wh-be-1",
                      text: "CRUD Endpoints Ù„Ù„Ù€ Webhooks",
                      details: "GET, POST, PUT, DELETE /api/webhooks",
                      tags: ["api"],
                      apiDetails: { method: "GET", endpoint: "/api/webhooks" },
                    },
                    {
                      id: "wh-be-2",
                      text: "Webhook Dispatcher",
                      details: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ù€ endpoints Ø§Ù„Ù…Ø³Ø¬Ù„Ø©",
                      tags: ["required"],
                    },
                    {
                      id: "wh-be-3",
                      text: "Retry Logic",
                      details: "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¹Ù†Ø¯ Ø§Ù„ÙØ´Ù„ (exponential backoff)",
                      tags: ["optional"],
                    },
                    {
                      id: "wh-be-4",
                      text: "Signature Generation",
                      details: "ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù€ payload Ø¨Ø§Ù„Ù€ secret",
                      tags: ["security"],
                    },
                  ],
                },
                notes: [
                  "Ø§Ù„Ø£Ø­Ø¯Ø§Ø«: payment.confirmed, payment.expired, payment.cancelled",
                  "Ø§Ù„Ù€ signature Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…ØµØ¯Ø±",
                ],
              },
            ],
          },

          // ==================== FEATURE 11: AUDIT LOGS ====================
          {
            id: "audit-logs",
            icon: "ğŸ“œ",
            name: "Audit Logs",
            nameAr: "Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",
            description: "ØªØ³Ø¬ÙŠÙ„ ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ø£Ù…Ø§Ù†",
            subFeatures: [
              {
                id: "logs-view",
                icon: "ğŸ“‹",
                name: "View Logs",
                nameAr: "Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª",
                tasks: {
                  frontend: [
                    {
                      id: "log-fe-1",
                      text: "ØµÙØ­Ø© Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",
                      details: "Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ø¹ ÙÙ„ØªØ±Ø© Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù†ÙˆØ¹",
                      tags: ["ui"],
                    },
                    {
                      id: "log-fe-2",
                      text: "ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„",
                      details: "Ø¹Ø±Ø¶ beforeJson Ùˆ afterJson",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "log-be-1",
                      text: "GET /api/audit-logs",
                      details: "Ø¬Ù„Ø¨ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ø¹ filtering",
                      tags: ["api"],
                      apiDetails: {
                        method: "GET",
                        endpoint: "/api/audit-logs",
                      },
                    },
                    {
                      id: "log-be-2",
                      text: "Audit Logger Service",
                      details: "service Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù†",
                      tags: ["required"],
                    },
                  ],
                },
              },
            ],
          },

          // ==================== FEATURE 12: SETTINGS ====================
          {
            id: "settings",
            icon: "âš™ï¸",
            name: "Settings",
            nameAr: "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
            description: "Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØ§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª",
            subFeatures: [
              {
                id: "profile-settings",
                icon: "ğŸ‘¤",
                name: "Profile Settings",
                nameAr: "Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",
                tasks: {
                  frontend: [
                    {
                      id: "set-fe-1",
                      text: "ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
                      details: "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ØŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "set-fe-2",
                      text: "Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
                      details: "ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
                      tags: ["ui", "optional"],
                    },
                  ],
                  backend: [
                    {
                      id: "set-be-1",
                      text: "PUT /api/users/me",
                      details: "ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ",
                      tags: ["api"],
                      apiDetails: { method: "PUT", endpoint: "/api/users/me" },
                    },
                  ],
                },
              },
            ],
          },

          // ==================== FEATURE 13: DASHBOARD ====================
          {
            id: "dashboard",
            icon: "ğŸ“Š",
            name: "Dashboard",
            nameAr: "Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…",
            description: "Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø¹ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",
            subFeatures: [
              {
                id: "dashboard-main",
                icon: "ğŸ“ˆ",
                name: "Main Dashboard",
                nameAr: "Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
                tasks: {
                  frontend: [
                    {
                      id: "dash-fe-1",
                      text: "ØªØµÙ…ÙŠÙ… Dashboard Layout",
                      details: "sidebar, header, main content area",
                      tags: ["ui", "required"],
                    },
                    {
                      id: "dash-fe-2",
                      text: "Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",
                      details: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§ØªØŒ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©ØŒ Ø§Ù„Ø®",
                      tags: ["ui"],
                    },
                    {
                      id: "dash-fe-3",
                      text: "Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ©",
                      details: "Ù…Ø®Ø·Ø· Ù„Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ø²Ù…Ù†",
                      tags: ["ui", "optional"],
                    },
                    {
                      id: "dash-fe-4",
                      text: "Ø¢Ø®Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª",
                      details: "Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¢Ø®Ø± Ø§Ù„Ø¯ÙØ¹Ø§Øª ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
                      tags: ["ui"],
                    },
                  ],
                  backend: [
                    {
                      id: "dash-be-1",
                      text: "GET /api/dashboard/stats",
                      details: "Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„Ù„Ù€ dashboard",
                      tags: ["api"],
                      apiDetails: {
                        method: "GET",
                        endpoint: "/api/dashboard/stats",
                      },
                    },
                  ],
                },
              },
            ],
          },

          // ==================== FEATURE 14: LANDING PAGE (LAST) ====================
          {
            id: "landing",
            icon: "ğŸ ",
            name: "Landing Page",
            nameAr: "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
            description: "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…ÙˆÙ‚Ø¹ - Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø¨Ø§Ù„Ø®Ø¯Ù…Ø© ÙˆØ§Ù„Ø¨Ø§Ù‚Ø§Øª",
            subFeatures: [
              {
                id: "landing-main",
                icon: "ğŸ¨",
                name: "Landing Page Design",
                nameAr: "ØªØµÙ…ÙŠÙ… Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
                tasks: {
                  frontend: [
                    {
                      id: "land-fe-1",
                      text: "Hero Section",
                      details: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù…Ø¹ CTA",
                      tags: ["ui"],
                    },
                    {
                      id: "land-fe-2",
                      text: "Features Section",
                      details: "Ø¹Ø±Ø¶ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø©",
                      tags: ["ui"],
                    },
                    {
                      id: "land-fe-3",
                      text: "Pricing Section",
                      details: "Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±",
                      tags: ["ui"],
                    },
                    {
                      id: "land-fe-4",
                      text: "FAQ Section",
                      details: "Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©",
                      tags: ["ui"],
                    },
                    {
                      id: "land-fe-5",
                      text: "Footer",
                      details: "Ø±ÙˆØ§Ø¨Ø· ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„",
                      tags: ["ui"],
                    },
                    {
                      id: "land-fe-6",
                      text: "Responsive Design",
                      details: "Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„",
                      tags: ["ui", "required"],
                    },
                  ],
                  backend: [],
                },
              },
            ],
          },
        ],
      };

      // ============================================================================
      // LOCAL STORAGE MANAGER
      // ============================================================================
      const STORAGE_KEY = "instaflow_roadmap_tasks";

      function getTasksState() {
        const saved = localStorage.getItem(STORAGE_KEY);
        return saved ? JSON.parse(saved) : {};
      }

      function saveTaskState(taskId, completed) {
        const state = getTasksState();
        state[taskId] = completed;
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
      }

      function isTaskCompleted(taskId) {
        const state = getTasksState();
        return state[taskId] === true;
      }

      function resetAllTasks() {
        if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„ Ø§Ù„Ù…Ù‡Ø§Ù…ØŸ")) {
          localStorage.removeItem(STORAGE_KEY);
          renderFeatures();
          updateProgress();
          showToast("ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„ Ø§Ù„Ù…Ù‡Ø§Ù…", "warning");
        }
      }

      // ============================================================================
      // RENDER FUNCTIONS
      // ============================================================================
      function renderFeatures() {
        const container = document.getElementById("features-container");
        container.innerHTML = "";

        projectData.features.forEach((feature) => {
          const featureEl = createFeatureElement(feature);
          container.appendChild(featureEl);
        });

        // Attach event listeners
        attachTaskListeners();
        attachToggleListeners();
      }

      function createFeatureElement(feature) {
        const completedTasks = countCompletedTasksInFeature(feature);
        const totalTasks = countTotalTasksInFeature(feature);
        const progressPercent =
          totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;

        const div = document.createElement("div");
        div.className = "feature-section";
        div.id = `feature-${feature.id}`;

        div.innerHTML = `
          <div class="feature-header" data-feature="${feature.id}">
            <div class="feature-title">
              <span class="feature-icon">${feature.icon}</span>
              <div>
                <h2 class="feature-name">${feature.name}</h2>
                <div class="feature-name-ar">${feature.nameAr}</div>
              </div>
            </div>
            <div class="feature-meta">
              <div class="feature-progress">
                <div class="feature-progress-bar">
                  <div class="feature-progress-fill" style="width: ${progressPercent}%"></div>
                </div>
                <span class="feature-progress-text">${completedTasks}/${totalTasks}</span>
              </div>
              <span class="feature-toggle">â–¼</span>
            </div>
          </div>
          <div class="feature-content">
            <div class="feature-description">
              <p>${feature.description}</p>
            </div>
            ${feature.subFeatures.map((sub) => createSubFeatureHTML(sub)).join("")}
          </div>
        `;

        return div;
      }

      function createSubFeatureHTML(subFeature) {
        const completedTasks = countCompletedTasksInSubFeature(subFeature);
        const totalTasks = countTotalTasksInSubFeature(subFeature);
        const progressPercent =
          totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;

        let tasksHTML = '<div class="task-groups">';

        if (subFeature.tasks.frontend && subFeature.tasks.frontend.length > 0) {
          tasksHTML += `
            <div class="task-group frontend">
              <div class="task-group-header">
                <span class="task-group-icon">ğŸ¨</span>
                <span class="task-group-title">Frontend</span>
              </div>
              <ul class="task-list">
                ${subFeature.tasks.frontend.map((task) => createTaskHTML(task)).join("")}
              </ul>
            </div>
          `;
        }

        if (subFeature.tasks.backend && subFeature.tasks.backend.length > 0) {
          tasksHTML += `
            <div class="task-group backend">
              <div class="task-group-header">
                <span class="task-group-icon">âš™ï¸</span>
                <span class="task-group-title">Backend</span>
              </div>
              <ul class="task-list">
                ${subFeature.tasks.backend.map((task) => createTaskHTML(task)).join("")}
              </ul>
            </div>
          `;
        }

        tasksHTML += "</div>";

        // Notes section
        let notesHTML = "";
        if (subFeature.notes && subFeature.notes.length > 0) {
          notesHTML = `
            <div class="notes-section">
              <h5>ğŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©</h5>
              <ul>
                ${subFeature.notes.map((note) => `<li>${note}</li>`).join("")}
              </ul>
            </div>
          `;
        }

        return `
          <div class="sub-feature" id="sub-${subFeature.id}">
            <div class="sub-feature-header" data-subfeature="${subFeature.id}">
              <div class="sub-feature-title">
                <span class="sub-feature-icon">${subFeature.icon}</span>
                <span class="sub-feature-name">${subFeature.name}</span>
                <span class="sub-feature-name-ar">(${subFeature.nameAr})</span>
              </div>
              <div class="sub-feature-progress">
                <div class="sub-feature-progress-bar">
                  <div class="sub-feature-progress-fill" style="width: ${progressPercent}%"></div>
                </div>
                <span class="feature-progress-text">${completedTasks}/${totalTasks}</span>
                <span class="sub-feature-toggle">â–¼</span>
              </div>
            </div>
            <div class="sub-feature-content">
              ${tasksHTML}
              ${notesHTML}
            </div>
          </div>
        `;
      }

      function createTaskHTML(task) {
        const completed = isTaskCompleted(task.id);
        const completedClass = completed ? "completed" : "";

        let tagsHTML = "";
        if (task.tags && task.tags.length > 0) {
          tagsHTML = `<div class="task-tags">${task.tags.map((tag) => `<span class="task-tag ${tag}">${tag}</span>`).join("")}</div>`;
        }

        let apiDetailsHTML = "";
        if (task.apiDetails) {
          apiDetailsHTML = `
            <div class="api-details">
              <span class="api-method ${task.apiDetails.method.toLowerCase()}">${task.apiDetails.method}</span>
              <span class="api-endpoint">${task.apiDetails.endpoint}</span>
            </div>
          `;
        }

        return `
          <li class="task-item ${completedClass}" data-task-id="${task.id}" data-type="${task.tags && task.tags.includes("api") ? "backend" : "frontend"}">
            <div class="task-checkbox">
              <span class="checkmark">âœ“</span>
            </div>
            <div class="task-content">
              <div class="task-text">${task.text}</div>
              <div class="task-details">${task.details}</div>
              ${tagsHTML}
              ${apiDetailsHTML}
            </div>
          </li>
        `;
      }

      // ============================================================================
      // EVENT LISTENERS
      // ============================================================================
      function attachTaskListeners() {
        document.querySelectorAll(".task-item").forEach((item) => {
          item.addEventListener("click", function () {
            const taskId = this.dataset.taskId;
            const isCompleted = this.classList.contains("completed");

            // Toggle state
            this.classList.toggle("completed");
            saveTaskState(taskId, !isCompleted);

            // Update progress
            updateProgress();

            // Show toast
            showToast(
              !isCompleted ? "ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø© âœ“" : "ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©",
              !isCompleted ? "success" : "warning",
            );
          });
        });
      }

      function attachToggleListeners() {
        // Feature toggle
        document.querySelectorAll(".feature-header").forEach((header) => {
          header.addEventListener("click", function () {
            const featureSection = this.closest(".feature-section");
            featureSection.classList.toggle("collapsed");
          });
        });

        // Sub-feature toggle
        document.querySelectorAll(".sub-feature-header").forEach((header) => {
          header.addEventListener("click", function () {
            const subFeature = this.closest(".sub-feature");
            subFeature.classList.toggle("collapsed");
          });
        });
      }

      // ============================================================================
      // PROGRESS CALCULATION
      // ============================================================================
      function countTotalTasksInFeature(feature) {
        return feature.subFeatures.reduce(
          (sum, sub) => sum + countTotalTasksInSubFeature(sub),
          0,
        );
      }

      function countCompletedTasksInFeature(feature) {
        return feature.subFeatures.reduce(
          (sum, sub) => sum + countCompletedTasksInSubFeature(sub),
          0,
        );
      }

      function countTotalTasksInSubFeature(sub) {
        return (
          (sub.tasks.frontend?.length || 0) + (sub.tasks.backend?.length || 0)
        );
      }

      function countCompletedTasksInSubFeature(sub) {
        let count = 0;
        if (sub.tasks.frontend) {
          count += sub.tasks.frontend.filter((t) =>
            isTaskCompleted(t.id),
          ).length;
        }
        if (sub.tasks.backend) {
          count += sub.tasks.backend.filter((t) =>
            isTaskCompleted(t.id),
          ).length;
        }
        return count;
      }

      function updateProgress() {
        let totalTasks = 0;
        let completedTasks = 0;

        projectData.features.forEach((feature) => {
          totalTasks += countTotalTasksInFeature(feature);
          completedTasks += countCompletedTasksInFeature(feature);
        });

        const percentage =
          totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;

        // Update UI
        document.getElementById("completed-count").textContent = completedTasks;
        document.getElementById("pending-count").textContent =
          totalTasks - completedTasks;
        document.getElementById("total-count").textContent = totalTasks;
        document.getElementById("total-progress").style.width =
          percentage + "%";
        document.getElementById("progress-percentage").textContent =
          percentage + "%";

        // Update feature progress bars
        projectData.features.forEach((feature) => {
          const featureEl = document.getElementById(`feature-${feature.id}`);
          if (featureEl) {
            const completed = countCompletedTasksInFeature(feature);
            const total = countTotalTasksInFeature(feature);
            const percent =
              total > 0 ? Math.round((completed / total) * 100) : 0;

            const progressFill = featureEl.querySelector(
              ".feature-progress-fill",
            );
            const progressText = featureEl.querySelector(
              ".feature-progress-text",
            );
            if (progressFill) progressFill.style.width = percent + "%";
            if (progressText)
              progressText.textContent = `${completed}/${total}`;
          }
        });
      }

      // ============================================================================
      // FILTER & SEARCH
      // ============================================================================
      let currentFilter = "all";

      function applyFilter(filter) {
        currentFilter = filter;

        document.querySelectorAll(".filter-btn").forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.filter === filter);
        });

        document.querySelectorAll(".task-item").forEach((item) => {
          const isCompleted = item.classList.contains("completed");
          const taskType = item.dataset.type;

          let show = true;

          switch (filter) {
            case "completed":
              show = isCompleted;
              break;
            case "pending":
              show = !isCompleted;
              break;
            case "frontend":
              show = taskType === "frontend";
              break;
            case "backend":
              show = taskType === "backend";
              break;
          }

          item.classList.toggle("hidden", !show);
        });
      }

      function applySearch(query) {
        const lowerQuery = query.toLowerCase();

        document.querySelectorAll(".task-item").forEach((item) => {
          const text = item
            .querySelector(".task-text")
            .textContent.toLowerCase();
          const details = item
            .querySelector(".task-details")
            .textContent.toLowerCase();

          const matches =
            text.includes(lowerQuery) || details.includes(lowerQuery);
          item.classList.toggle("hidden", !matches && query.length > 0);
        });
      }

      // ============================================================================
      // EXPORT FUNCTION
      // ============================================================================
      function exportProgress() {
        const state = getTasksState();
        const data = {
          exportDate: new Date().toISOString(),
          projectName: "InstaFlow",
          tasks: state,
          stats: {
            total: document.getElementById("total-count").textContent,
            completed: document.getElementById("completed-count").textContent,
            pending: document.getElementById("pending-count").textContent,
          },
        };

        const blob = new Blob([JSON.stringify(data, null, 2)], {
          type: "application/json",
        });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `instaflow-roadmap-${new Date().toISOString().split("T")[0]}.json`;
        a.click();

        showToast("ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­", "success");
      }

      // ============================================================================
      // TOAST NOTIFICATION
      // ============================================================================
      function showToast(message, type = "success") {
        const toast = document.getElementById("toast");
        const toastMessage = document.getElementById("toast-message");
        const toastIcon = document.getElementById("toast-icon");

        toastMessage.textContent = message;
        toastIcon.textContent = type === "success" ? "âœ…" : "âš ï¸";

        toast.className = `toast show ${type}`;

        setTimeout(() => {
          toast.classList.remove("show");
        }, 2500);
      }

      // ============================================================================
      // COLLAPSE ALL
      // ============================================================================
      let allCollapsed = false;

      function toggleCollapseAll() {
        allCollapsed = !allCollapsed;

        document.querySelectorAll(".feature-section").forEach((section) => {
          section.classList.toggle("collapsed", allCollapsed);
        });

        document.querySelectorAll(".sub-feature").forEach((section) => {
          section.classList.toggle("collapsed", allCollapsed);
        });
      }

      // ============================================================================
      // INITIALIZATION
      // ============================================================================
      document.addEventListener("DOMContentLoaded", function () {
        // Render features
        renderFeatures();

        // Update progress
        updateProgress();

        // Filter buttons
        document.querySelectorAll(".filter-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            applyFilter(this.dataset.filter);
          });
        });

        // Search
        document
          .getElementById("search-input")
          .addEventListener("input", function () {
            applySearch(this.value);
          });

        // Reset button
        document
          .getElementById("reset-btn")
          .addEventListener("click", resetAllTasks);

        // Export button
        document
          .getElementById("export-btn")
          .addEventListener("click", exportProgress);

        // Collapse all button
        document
          .getElementById("collapse-all")
          .addEventListener("click", toggleCollapseAll);
      });
    </script>
  </body>
</html>
